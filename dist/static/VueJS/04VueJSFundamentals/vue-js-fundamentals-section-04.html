<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <title>maxsagetech - Vue JS Fundamentals</title>
  <script src="https://unpkg.com/vue"></script>
  <!--<link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"-->
  <!--integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" rel="stylesheet">-->
  <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel="stylesheet">
  <link href="prism.css" rel="stylesheet">
  <script src="prism.js"></script>
  <style>

    img {
      max-width: 100%;
     
    }
  </style>
</head>
<body>
<div class="container" id="app">
  <div class="panel-group">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h2>Vue JS Fundamentals</h2>
      </div>
      <div class="panel-body">
        <div class="course-transcript">
        <div><h2>Enabling Inter-component Communication </h2>
          <div><h3>Introduction</h3>
            <p>In this module on intersection-component communication, we'll explore how to communicate between
              components. You don't get far in building an application before you run into situations where one
              component needs to know something about what's going on with another component, so it'll be good to learn
              how to accomplish this with Vue.</p>
            <p>There are a few topics to cover including using props to share data with child components, validating
              component props, passing data to parent components with events, and injecting content into a child
              component with slots. Understanding how to do this will allow us to build rich client-side applications
              with Vue, so let's dive in.
            </p>
          </div>
          <div><h3>Creating Child Components</h3>
            <p>So far, we haven't really done much with creating child components, other than the fact that our App
              component uses our RobotBuilder component. If we take a look at this RobotBuilder template, you can see a
              lot of repeating code here for each of the individual part selectors:</p>
            <figure>
              <img src="images/Fig03-001.png"/>
              <figcaption>Fig 03-001</figcaption>
            </figure>
            <p>Let's turn this into a part selector component and reuse it in each of these places. When we do that,
              we'll need to pass down to the PartSelector component the parts that we want it to select from, and that
              will be a great way to show how to communicate between components.</p>
            <figure>
              <img src="images/Fig03-002.png"/>
              <figcaption>Fig 03-002</figcaption>
            </figure>
            <p>So we'll start by creating a PartSelector component, and rather than completing this whole thing from
              scratch, let's start with a partially completed component. So over here in our helper repo in the src,
              build folder, we have this PartSelector.vue file:</p>
            <figure>
              <img src="images/Fig03-003.png"/>
              <figcaption>Fig 03-003</figcaption>
            </figure>
            <p>So let's grab that and paste that into our new component. So if we take a look at what we've pasted in
              here, you can see that at the top here:</p>
            <figure>
              <img src="images/Fig03-004.png"/>
              <figcaption>Fig 03-004</figcaption>
            </figure>
            <p>we have some HTML that looks a lot like the HTML that was being repeated multiple times over in our
              RobotBuilder. And then down here in the component script, you can see that we have some functions for
              getting the next and previous index:</p>
            <figure>
              <img src="images/Fig03-005.png"/>
              <figcaption>Fig 03-005</figcaption>
            </figure>
            <p>and down here:</p>
            <figure>
              <img src="images/Fig03-006.png"/>
              <figcaption>Fig 03-006</figcaption>
            </figure>
            <p>methods on our component for selecting the next part and the previous part that call those functions.
              This should look a little bit familiar because this same code, or code a lot like it, existed over in our
              RobotBuilder. So we've just moved that over into our PartSelector.</p>
            <p>And then notice up here:</p>
            <figure>
              <img src="images/Fig03-007.png"/>
              <figcaption>Fig 03-007</figcaption>
            </figure>
            <p>we're importing all of the available parts, and we're setting, here on line 13:</p>
            <figure>
              <img src="images/Fig03-008.png"/>
              <figcaption>Fig 03-008</figcaption>
            </figure>
            <p>this parts variable to the heads from the availableParts. This is just temporary so we can get up and
              going. The parts for the PartSelector will actually be passed into us by its parent component, so we'll
              delete this pretty quick here.</p>
            <p>So just to bring you up to speed with what the plan is, if we look at our robot builder, each one of
              these parts is going to be a different instance of the PartSelector, and the RobotBuilder will be
              responsible for giving each instance of the PartSelector the correct list of parts for it to work with. So
              in the RobotBuilder, when we create this instance of the PartSelector, it will pass in a list of heads,
              and when it creates this one, it will pass in a list of arms, etc. This will be a great way to learn how
              to communicate with child components.</p>
            <p>And now that the PartSelector will be taking care of all of the selecting of the parts, then over in our
              RobotBuilder we can delete a bunch of stuff here. So we can delete these functions here:</p>
            <figure>
              <img src="images/Fig03-009.png"/>
              <figcaption>Fig 03-009</figcaption>
            </figure>
            <p>that we saw exist now over in the PartSelector, and then we can delete all of these functions down here.
              And notice how many of these there are that we're going to be deleting:</p>
            <figure>
              <img src="images/Fig03-010.png"/>
              <figcaption>Fig 03-010</figcaption>
            </figure>
            <p>and all of these will be replaced with just two functions in the PartSelector. So you can see how this is
              going to be eliminating duplication, and it's going to be a lot cleaner. All right, and then we're not
              going to needs these selected indexes here:</p>
            <figure>
              <img src="images/Fig03-011.png"/>
              <figcaption>Fig 03-011</figcaption>
            </figure>
            <p>either. And then we're just going to initialize each one of these parts in our selected robot to just an
              empty object, so each one of these will be just initialized like this:</p>
            <figure>
              <img src="images/Fig03-012.png"/>
              <figcaption>Fig 03-012</figcaption>
            </figure>
            <p>And actually, now that this doesn't have any complex calculations anymore, it doesn't really need to be a
              computed property, so let's just move this up to our data object:</p>
            <figure>
              <img src="images/Fig03-013.png"/>
              <figcaption>Fig 03-013</figcaption>
            </figure>
            <p>And this will just be a property instead of a function, and it'll just return this object.</p>
            <p>And now we're just going to go ahead and import our PartSelector</p>
            <figure>
              <img src="images/Fig03-014.png"/>
              <figcaption>Fig 03-014</figcaption>
            </figure>
            <p>All right, and then this is something that you may not have noticed in the App component, but whenever
              you reference a child component, not only do you need to import it; you also need to list it in a
              components array on the parent component like this:</p>
            <figure>
              <img src="images/Fig03-015.png"/>
              <figcaption>Fig 03-015</figcaption>
            </figure>
            <p>This is what makes our component aware of this selector so that we can now use it up here. Okay, so now
              we're going to replace each one of these:</p>
            <figure>
              <img src="images/Fig03-016.png"/>
              <figcaption>Fig 03-016</figcaption>
            </figure>
            <p>with just a PartSelector:</p>
            <figure>
              <img src="images/Fig03-017.png"/>
              <figcaption>Fig 03-017</figcaption>
            </figure>
            <p>So we have one at the bottom for our base, three in the middle for the left arm, torso, and right
              arm:</p>
            <figure>
              <img src="images/Fig03-018.png"/>
              <figcaption>Fig 03-018</figcaption>
            </figure>
            <p>
              and then up here in the head, we have a little bit more going on. So we can go ahead and replace all of
              this here</p>
            <figure>
              <img src="images/Fig03-019.png"/>
              <figcaption>Fig 03-019</figcaption>
            </figure>
            <p>with the PartSelector:</p>
            <figure>
              <img src="images/Fig03-020.png"/>
              <figcaption>Fig 03-020</figcaption>
            </figure>
            <p>and we can get rid of this div here:</p>
            <figure>
              <img src="images/Fig03-021.png"/>
              <figcaption>Fig 03-021</figcaption>
            </figure>
            <p>This stuff, however:</p>
            <figure>
              <img src="images/Fig03-022.png"/>
              <figcaption>Fig 03-022</figcaption>
            </figure>
            <p>we're going to want to reuse later, and so I'm just going to comment that out for now.</p>
            <p>Okay, so now we can use these PartSelector elements because we have declared them down here. Oh, and
              actually, this is not supposed to be an array:</p>
            <figure>
              <img src="images/Fig03-023.png"/>
              <figcaption>Fig 03-023</figcaption>
            </figure>
            <p>this is an object</p>
            <figure>
              <img src="images/Fig03-024.png"/>
              <figcaption>Fig 03-024</figcaption>
            </figure>
            <p>So this is really an object where we're saying that we have a PartSelector component that is set to that
              PartSelector:</p>
            <figure>
              <img src="images/Fig03-025.png"/>
              <figcaption>Fig 03-025</figcaption>
            </figure>
            <p>but we can just use the shorthand syntax as shown previously. But you can see already how much cleaner
              our template is because we cleaned up so much duplication. So let's go check this out:</p>
            <figure>
              <img src="images/Fig03-026.png"/>
              <figcaption>Fig 03-026</figcaption>
            </figure>
            <p>Okay, well, we've got all heads again, so not exactly what we want, but it is what we expected since our
              PartSelector is currently just hardcoded to return heads. To fix that, each instance of our PartSelector
              needs to receive its list of parts from its parent component, so we'll do that next.</p>
            <p>But you'll also notice that our arrows on our buttons are missing, and the buttons aren't exactly in the
              right place. So depending on where the PartSelector is, sometimes the buttons need to be on the top and
              bottom of the image, and sometimes they need to be on the left and right. So the PartSelector will also
              need to know what position it's in before it knows what type of buttons to display, so we'll fix that too.
            </p>
            <p>We'll get into all of that in the next clip when we start talking about how to pass data down to child
              components.
            </p>
          </div>
          <div><h3>Using Props to Share Data with Child Components</h3>
            <p>We need to update our RobotBuilder to pass in the parts to the PartSelector for it to cycle through. So
              we'll start with this first one:</p>
            <figure>
              <img src="images/Fig03-027.png"/>
              <figcaption>Fig 03-027</figcaption>
            </figure>
            <p>which should allow the user to select which robot head they want. So that means over in our RobotBuilder,
              right here:</p>
            <figure>
              <img src="images/Fig03-028.png"/>
              <figcaption>Fig 03-028</figcaption>
            </figure>
            <p>We want to tell the PartSelector which parts to use, and we'd like to do that like this:</p>
            <figure>
              <img src="images/Fig03-029.png"/>
              <figcaption>Fig 03-029</figcaption>
            </figure>
            <p>So availableParts is already available to us in our RobotBuilder's data object, and then we're just
              grabbing the heads off of it. And notice that we're binding it to a parts attribute of the PartSelector.
              This won't work yet because the PartSelector doesn't have a parts attribute to bind to. We'll add that
              next.</p>
            <p>We can do that over in the PartSelector by just adding props to the component like this:</p>
            <figure>
              <img src="images/Fig03-030.png"/>
              <figcaption>Fig 03-030</figcaption>
            </figure>
            <p>And then the most simple syntax for this is just to pass in a string array:</p>
            <figure>
              <img src="images/Fig03-031.png"/>
              <figcaption>Fig 03-031</figcaption>
            </figure>
            <p>And that's all there is to making props available to be bound to by parent components. And now that we
              have that, we can stop hardcoding the parts up here:</p>
            <figure>
              <img src="images/Fig03-032.png"/>
              <figcaption>Fig 03-032</figcaption>
            </figure>
            <p>which means we don't need this import here:</p>
            <figure>
              <img src="images/Fig03-033.png"/>
              <figcaption>Fig 03-033</figcaption>
            </figure>
            <p>And then down here inside the component wherever we're using parts, this needs to be this.parts now:</p>
            <figure>
              <img src="images/Fig03-034.png"/>
              <figcaption>Fig 03-034</figcaption>
            </figure>
            <p>
              since we're getting that off the props. Okay, so now that we have that prop, let's go ahead and pass in
              the correct parts in each of these instances:</p>
            <figure>
              <img src="images/Fig03-035.png"/>
              <figcaption>Fig 03-035</figcaption>
            </figure>
            <p>This is torsos, and this is arms again, and then this one is bases. Cool, let's go see how this
              looks:</p>
            <figure>
              <img src="images/Fig03-036.png"/>
              <figcaption>Fig 03-036</figcaption>
            </figure>
            <p>
              Awesome, now we're getting the correct parts, even though the arms aren't quite positioned right. And even
              though our buttons are still missing their arrow icons and aren't quite positioned right, if I click them,
              they do work. And you can see our PartSelector even supports indicting if a part is on sale:</p>
            <figure>
              <img src="images/Fig03-037.png"/>
              <figcaption>Fig 03-037</figcaption>
            </figure>
            <p>Now in order to fix the arm positions and display the buttons correctly, we need to apply a CSS class to
              each one of these PartSelectors based on the position of each part selector. So for example, this part
              selector for the head is in the top position. This left arm selector is in the left position, this one's
              in the center position, this one's in the right position, and this one's in the bottom position. And if we
              take a look at the PartSelector down in the styles:</p>
            <figure>
              <img src="images/Fig03-038.png"/>
              <figcaption>Fig 03-038</figcaption>
            </figure>
            <p>
              you can see that I've already created CSS classes to handle displaying those correctly. But these position
              classes aren't being applied yet anywhere in our PartSelector component, and that's partly because the
              PartSelector component doesn't know what position it's in.</p>
            <p>So let's come back over to the RobotBuilder, and in addition to specifying the parts for each one, let's
              specify the position. So I'm going to set position=top:</p>
            <figure>
              <img src="images/Fig03-039.png"/>
              <figcaption>Fig 03-039</figcaption>
            </figure>
            <p>And notice there's something different about this binding. Notice the parts binding is using a colon, but
              the position is not. That's because position isn't really actually a binding. It's really just an
              attribute on the PartSelector, and we're setting it to the hardcoded string top. Whereas parts is an
              attribute, but we're binding to that attribute and passing along availableParts.heads, which is an
              expression that needs to be evaluated.</p>
            <p>So let's go ahead and add this position to each of these others too:</p>
            <figure>
              <img src="images/Fig03-040.png"/>
              <figcaption>Fig 03-040</figcaption>
            </figure>
            <p>So we've got left and center, and then right, and then finally down for our base, this is going to be
              bottom. Okay, now we're passing to our PartSelector what position it's in, so over here we need to add a
              position prop so it can receive that value:</p>
            <figure>
              <img src="images/Fig03-041.png"/>
              <figcaption>Fig 03-041</figcaption>
            </figure>
            <p>And now we're just going to use that in a class binding. So up here in the template, right here on this
              div, in addition to the part class, I also want to bind to the position:</p>
            <figure>
              <img src="images/Fig03-042.png"/>
              <figcaption>Fig 03-042</figcaption>
            </figure>
            <p>So remember, we can specify both a class and class binding, and they'll get combined. And so in the case
              of the head, this div will have two classes, a part class and a top class. So whatever value is passed in
              to the PartSelector for the position prop will become a class here. And then based on those classes and
              the styles that we specified below, everything will get styled correctly:</p>
            <p>So let's go take a look at our component again:</p>
            <figure>
              <img src="images/Fig03-043.png"/>
              <figcaption>Fig 03-043</figcaption>
            </figure>
            <p>There we go. Now our buttons are all positioned and you can see that some are on top and some are on
              bottom versus left and right, and the arrows are all there. And that all came from our CSS styling.</p>
            <p>So just to review the important parts of this, we can pass data into child components using attributes
              like this:</p>
            <figure>
              <img src="images/Fig03-044.png"/>
              <figcaption>Fig 03-044</figcaption>
            </figure>
            <p>and for each attribute, you just need to specify props in the child component:</p>
            <figure>
              <img src="images/Fig03-045.png"/>
              <figcaption>Fig 03-045</figcaption>
            </figure>
            <p>It's really that simple to pass data to a child component. We can, however, take this a little bit
              further and actually validate the props that are passed to make sure that they're the right type, etc.
              Let's take a look at that next.
            </p>
          </div>
          <div><h3>Validating Props</h3>
            <p>Our PartSelector component now takes in two props, parts and position:</p>
            <figure>
              <img src="images/Fig03-046.png"/>
              <figcaption>Fig 03-046</figcaption>
            </figure>
            <p>but there are no restrictions on the type of data or values that could be passed in to these props. We'd
              like to provide some validation to prevent parent components from passing in bad data. That's actually
              quite easy to do with a little different syntax.</p>
            <p>Let's start by requiring the parts prop to be an array and the position prop to be a string. So instead
              of using an array here, we'll use a keyed object where the keys are the names of the props, and the values
              are objects that specify validation information. So for the parts prop, we expect its type to be an array,
              and for position we expect its type to be a string:</p>
            <figure>
              <img src="images/Fig03-047.png"/>
              <figcaption>Fig 03-047</figcaption>
            </figure>
            <p>And now that we have these in place, if we come back over to our RobotBuilder, and on one of these,
              instead of passing in an array for the parts, we'll just pass in a string:</p>
            <figure>
              <img src="images/Fig03-048.png"/>
              <figcaption>Fig 03-048</figcaption>
            </figure>
            <p>And now if we come back over here:</p>
            <figure>
              <img src="images/Fig03-049.png"/>
              <figcaption>Fig 03-049</figcaption>
            </figure>
            <p>obviously, our left arm selector isn't going to be working because it's a string, not an array of parts.
              But if we take a look in our browser, you can see that we have a validation message here:</p>
            <figure>
              <img src="images/Fig03-050.png"/>
              <figcaption>Fig 03-050</figcaption>
            </figure>
            <p>because we passed in an invalid data type for the parts. And you can see right here it says Expected
              Array but got String.</p>
            <p>So we now have type checking that can help us identify problems during development. So let's go back and
              fix that:</p>
            <figure>
              <img src="images/Fig03-051.png"/>
              <figcaption>Fig 03-051</figcaption>
            </figure>
            <p>And then we can also make our props required. So here I'm going to, in addition in to specifying type,
              specify required: true, and then we'll do that for position, too, because it's also required:</p>
            <figure>
              <img src="images/Fig03-052.png"/>
              <figcaption>Fig 03-052</figcaption>
            </figure>
            <p>And now over here in our RobotBuilder, let's not pass in the left position. So if we come back over here,
              let's clear this and refresh. Well, you might be surprised to see here that there is no message:</p>
            <figure>
              <img src="images/Fig03-053.png"/>
              <figcaption>Fig 03-053</figcaption>
            </figure>
            <p>There's no validation error, and that's because, if we look at what we passed in, we didn't pass in
              nothing. We actually passed in an empty string:</p>
            <figure>
              <img src="images/Fig03-054.png"/>
              <figcaption>Fig 03-054</figcaption>
            </figure>
            <p>And so because we are providing a value for a position, it's not triggering the validation message. If we
              remove this altogether, however:</p>
            <figure>
              <img src="images/Fig03-055.png"/>
              <figcaption>Fig 03-055</figcaption>
            </figure>
            <p>and come back over here:</p>
            <figure>
              <img src="images/Fig03-056.png"/>
              <figcaption>Fig 03-056</figcaption>
            </figure>
            <p>there, now you can see it's saying that there is a required prop that's missing. But what if we actually
              do want to ensure that users cannot pass in an empty string here:</p>
            <figure>
              <img src="images/Fig03-057.png"/>
              <figcaption>Fig 03-057</figcaption>
            </figure>
            <p>Essentially, we want to indicate what are the valid values for position? So we can do that with a
              validator function. So in addition to specifying that position is required, we're going to supply a
              validator function, and that is a function that takes in the value that's being passed in to the prop. And
              we just want to ensure that it is one of these values, left, right, top, bottom, or center:</p>
            <figure>
              <img src="images/Fig03-058.png"/>
              <figcaption>Fig 03-058</figcaption>
            </figure>
            <p>So basically, I just want to make sure that the value is included in that array, or that this array
              includes the values that's passed in. Okay, now because we are passing in an empty string, we should now
              be seeing an error over here:</p>
            <figure>
              <img src="images/Fig03-059.png"/>
              <figcaption>Fig 03-059</figcaption>
            </figure>
            <p>and sure enough, if we refresh here, you can see that we are getting an error that the custom validator
              failed for prop position.</p>
            <p>Cool, so let's go back to our RobotBuilder and pass position back in here:</p>
            <figure>
              <img src="images/Fig03-060.png"/>
              <figcaption>Fig 03-060</figcaption>
            </figure>
            <p>and then if I clear this and refresh, you can see we're not getting that error anymore. And our
              RobotBuilder looks great:</p>
            <figure>
              <img src="images/Fig03-061.png"/>
              <figcaption>Fig 03-061</figcaption>
            </figure>
            <p>So awesome, we're now validating the props that being passed into our child component. Next, we'll take a
              look at how to pass data back to a parent component from a child component.
            </p>
          </div>
          <div><h3>Passing Data to Parent Components with Events</h3>
            <p>We now have a fully functioning PartSelector, and we're passing data from our RobotBuilder down to the
              PartSelector via its props. However, notice when I click this Add to Cart button:</p>
            <figure>
              <img src="images/Fig03-062.png"/>
              <figcaption>Fig 03-062</figcaption>
            </figure>
            <p>that I'm getting weird results down here in the cart:</p>
            <figure>
              <img src="images/Fig03-063.png"/>
              <figcaption>Fig 03-063</figcaption>
            </figure>
            <p>This is because our RobotBuilder, which is the parent component, isn't aware of changes that are
              happening inside the PartSelectors, which are child components of the RobotBuilder. If we look at the
              code:</p>
            <figure>
              <img src="images/Fig03-064.png"/>
              <figcaption>Fig 03-064</figcaption>
            </figure>
            <p>you can see that the Add to Cart method expects there to be a selectedRobot, and in our data function up
              here:</p>
            <figure>
              <img src="images/Fig03-065.png"/>
              <figcaption>Fig 03-065</figcaption>
            </figure>
            <p>you can see that we are initializing each of the parts in that selectedRobot to an empty object. And
              before we extracted the PartSelector component, each of these parts was getting updated whenever the user
              selected a new part, but now that selection is happening inside our PartSelector child components. So when
              we click on each of these buttons:</p>
            <figure>
              <img src="images/Fig03-066.png"/>
              <figcaption>Fig 03-066</figcaption>
            </figure>
            <p>the RobotBuilder has no idea that anything has changed because these buttons are inside the PartSelector
              component. So we need a way to tell our parent component when a different part is selected.</p>
            <p>Let's take a look at how to create events in the child component that the parent component can bind to.
              This will allow the parent component to react to changes in its child components, and it will allow us to
              pass data back to the parent component from the child component.</p>
            <p>So over here in our PartSelector component, down here in the methods, you can see that we have these two
              methods, selectNextPart and selectPreviousPart:</p>
            <figure>
              <img src="images/Fig03-067.png"/>
              <figcaption>Fig 03-067</figcaption>
            </figure>
            <p>We want both of these to emit an event that parent components can listen to by binding to them. This is
              surprisingly simple with Vue.</p>
            <p>Each Vue component has an emit function available that we can call to emit an event. So right here in the
              selectPreviousPart function, down here at the bottom, I'm just going to call this. emit, and then I'm just
              going to pass in the name of the event that we want to emit. So let's emit the event partSelected:</p>
            <figure>
              <img src="images/Fig03-068.png"/>
              <figcaption>Fig 03-068</figcaption>
            </figure>
            <p>This now means that a parent component can bind to a partSelected event when it creates the PartSelector
              component. We'll see how to do that in just a sec.</p>
            <p>First, when we emit this event, we want to be able to pass along some data with it. It won't do us much
              good to let the robot builder know that a part was selected if we don't tell it which part was selected,
              so let's pass along the currently selected part like this:</p>
            <figure>
              <img src="images/Fig03-069.png"/>
              <figcaption>Fig 03-069</figcaption>
            </figure>
            <p>Remember, we have a computed property up here:</p>
            <figure>
              <img src="images/Fig03-070.png"/>
              <figcaption>Fig 03-070</figcaption>
            </figure>
            <p>on our component called selectedPart so we're just using that here to pass it along. All right, and we're
              going to also want to emit that inside the selectNextPart function, so let's copy this and paste it
              here:</p>
            <figure>
              <img src="images/Fig03-071.png"/>
              <figcaption>Fig 03-071</figcaption>
            </figure>
            <p>
              Okay, cool. Now let's go see how to bind to this in the parent component. So over here in our
              RobotBuilder, up here we have our PartSelectors, and we'll start with this one here:</p>
            <figure>
              <img src="images/Fig03-072.png"/>
              <figcaption>Fig 03-072</figcaption>
            </figure>
            <p>We just want to bind to this new partSelected event. Binding to a component's event is done the exact
              same way you bind to any other element's event, with the v-on syntax or the at shorthand syntax. So we're
              going to bind to partSelected, and then we could bind that to a method on our component like thi:</p>
            <figure>
              <img src="images/Fig03-073.png"/>
              <figcaption>Fig 03-073</figcaption>
            </figure>
            <p>but actually, I think that this is going to be simple enough. I just want to handle it inline like
              this:</p>
            <figure>
              <img src="images/Fig03-074.png"/>
              <figcaption>Fig 03-074</figcaption>
            </figure>
            <p>
              So this is a function that takes in a part. And then this is the PartSelector for the robot head, and so I
              want to set the selectedRobot's head to this part, so we'll do that like this:</p>
            <figure>
              <img src="images/Fig03-075.png"/>
              <figcaption>Fig 03-075</figcaption>
            </figure>
            <p>So remember, the selectedRobot is an object that we already have on our component, and we're just setting
              the head to this part that's being passed in. And that's it, easy peasy.</p>
            <p>All you have to do to pass data to a parent is emit an event in the child component and then bind to it
              like this. So let's go ahead and do this for the other PartSelectors. So this is the left arm:</p>
            <figure>
              <img src="images/Fig03-076.png"/>
              <figcaption>Fig 03-076</figcaption>
            </figure>
            <p>this is the torso:</p>
            <figure>
              <img src="images/Fig03-077.png"/>
              <figcaption>Fig 03-077</figcaption>
            </figure>
            <p>this is the right arm:</p>
            <figure>
              <img src="images/Fig03-078.png"/>
              <figcaption>Fig 03-078</figcaption>
            </figure>
            <p>and this is the base:</p>
            <figure>
              <img src="images/Fig03-079.png"/>
              <figcaption>Fig 03-079</figcaption>
            </figure>
            <p>Okay, so that's it; the RobotBuilder is now aware of the selected parts because we're binding to the
              partSelected events and setting the selectedRobot parts. So if we go back over to our browser now and
              select each of these parts:</p>
            <figure>
              <img src="images/Fig03-080.png"/>
              <figcaption>Fig 03-080</figcaption>
            </figure>
            <p>and then click Add to Cart, you can see that that works just fine because the RobotBuilder is now aware
              of the data that's being passed back to it.</p>
            <p>But actually, we still have a small problem here. If I refresh this page and then click this Add to Cart
              button without changing anything:</p>
            <figure>
              <img src="images/Fig03-081.png"/>
              <figcaption>Fig 03-081</figcaption>
            </figure>
            <p>you can see that we're still getting our broken state. So it doesn't work when the page first loads, but
              if I change all of the parts and then click Add to Cart, you can see that it works just fine:</p>
            <figure>
              <img src="images/Fig03-082.png"/>
              <figcaption>Fig 03-082</figcaption>
            </figure>
            <p>This actually makes sense when you remember how we implemented the events. If we go back over to our
              PartSelector, you can see that we only emit the events when the selectNextPart or selectPreviousPart
              functions are called:</p>
            <figure>
              <img src="images/Fig03-083.png"/>
              <figcaption>Fig 03-083</figcaption>
            </figure>
            <p>and these are only called when the user clicks the buttons. So when the page first loads, the
              PartSelectors haven't emitted these events yet, and so the RobotBuilder doesn't have any selected parts.
              This is actually a great opportunity to tap into a component lifecyle method.</p>
            <p>So let's add a created function:</p>
            <figure>
              <img src="images/Fig03-084.png"/>
              <figcaption>Fig 03-084</figcaption>
            </figure>
            <p>and then let's emit the partSelected event when the component is first created. But instead of copying
              this line again:</p>
            <figure>
              <img src="images/Fig03-085.png"/>
              <figcaption>Fig 03-085</figcaption>
            </figure>
            <p>let's create a new function called emitSelectedPart:</p>
            <figure>
              <img src="images/Fig03-086.png"/>
              <figcaption>Fig 03-086</figcaption>
            </figure>
            <p>and then we will move this:</p>
            <figure>
              <img src="images/Fig03-087.png"/>
              <figcaption>Fig 03-087</figcaption>
            </figure>
            <p>up into here:</p>
            <figure>
              <img src="images/Fig03-088.png"/>
              <figcaption>Fig 03-088</figcaption>
            </figure>
            <p>and then right here, we can just call this.emitSelectedPart:</p>
            <figure>
              <img src="images/Fig03-089.png"/>
              <figcaption>Fig 03-089</figcaption>
            </figure>
            <p>And then we'll do the same thing down here:</p>
            <figure>
              <img src="images/Fig03-090.png"/>
              <figcaption>Fig 03-090</figcaption>
            </figure>
            <p>
              And then in our created event, we'll also call it here:</p>
            <figure>
              <img src="images/Fig03-091.png"/>
              <figcaption>Fig 03-091</figcaption>
            </figure>
            <p>So now the currently selected part will get emitted when this component is created, in addition to when
              clicking the buttons. And you can see up here that in our data function:</p>
            <figure>
              <img src="images/Fig03-092.png"/>
              <figcaption>Fig 03-092</figcaption>
            </figure>
            <p>we initialize the selectedPartIndex to 0, so when the selectedPart component is created, the first part
              in the list of parts that's passed in is always the selected part. So we have a default selected part that
              will get emitted whenever this component is first created.</p>
            <p>So now if we go over to our page here and refresh, you can see that I'm not going to change any of these
              parts, and I'm going to go ahead and click Add to Cart:</p>
            <figure>
              <img src="images/Fig03-093.png"/>
              <figcaption>Fig 03-093</figcaption>
            </figure>
            <p>and now it's working just fine because those events got emitted. So this is working great, but it's a
              little bit hard to see the events as they flow in as we click on the buttons because we don't see that the
              events are working until we click the Add to Cart button. For that reason, in order to see this a little
              bit better, let's add a little preview image up above the Add to Cart button that shows a preview of what
              our currently selected robot looks like.</p>
            <p>And as the events are emitted from the child components, you'll see the parent component changing. So
              we'll grab the HTML for that preview element over here in our GitHub repo. In src, build there is this
              RobotBuilder-preview.html:</p>
            <figure>
              <img src="images/Fig03-094.png"/>
              <figcaption>Fig 03-094</figcaption>
            </figure>
            <p>so let's grab that. And then we'll come back to our RobotBuilder, and right here at the top of the
              template inside the content div just above the Add to Cart button:</p>
            <figure>
              <img src="images/Fig03-095.png"/>
              <figcaption>Fig 03-095</figcaption>
            </figure>
            <p>we'll add that here.</p>
            <figure>
              <img src="images/Fig03-096.png"/>
              <figcaption>Fig 03-096</figcaption>
            </figure>
            <p>And then there's some styles for this too, so let's go grab those, so that's this
              RobotBuilder-preview.css:</p>
            <figure>
              <img src="images/Fig03-097.png"/>
              <figcaption>Fig 03-097</figcaption>
            </figure>
            <p>So let's copy that, and then back over here we'll just drop those in the bottom of our style section:</p>
            <figure>
              <img src="images/Fig03-098.png"/>
              <figcaption>Fig 03-098</figcaption>
            </figure>
            <p>
              Okay, let's go take a look at that and see what we've got. Okay, so you can see our preview is showing up
              here:</p>
            <figure>
              <img src="images/Fig03-099.png"/>
              <figcaption>Fig 03-099</figcaption>
            </figure>
            <p>so that's great, but the Add to Cart button is on top of it, so let's go fix that. So over here in our
              template, let's move our button:</p>
            <figure>
              <img src="images/Fig03-100.png"/>
              <figcaption>Fig 03-100</figcaption>
            </figure>
            <p>into our new preview section:</p>
            <figure>
              <img src="images/Fig03-101.png"/>
              <figcaption>Fig 03-101</figcaption>
            </figure>
            <p>We'll just move that up here. And then down here in the CSS, we just need to find the Add to Cart style,
              and we'll no longer need this right position:</p>
            <figure>
              <img src="images/Fig03-102.png"/>
              <figcaption>Fig 03-102</figcaption>
            </figure>
            <p>and we want to change the width a little bit to just 210 pixels. Now let's go take a look at that. Okay,
              there we go. Now the Add to Cart button's below:</p>
            <figure>
              <img src="images/Fig03-103.png"/>
              <figcaption>Fig 03-103</figcaption>
            </figure>
            <p>and there's our preview image. And now that we have that preview image, we can see the events coming in
              as we change them by clicking the parts here. And you can see that the preview image, which is on the
              parent component, is changing as we change the parts in the child component:</p>
            <figure>
              <img src="images/Fig03-104.png"/>
              <figcaption>Fig 03-104</figcaption>
            </figure>
            <p>Okay, this is awesome, and this is a great example of how to emit events from child components to pass
              data back to parent components.</p>
            <p>Now I just want to take a short detour here to talk again about lifecycle hooks because we have a great
              use case now. If we go back and look at our PartSelector component, you can see that right here we are
              emitting the selected part in the created lifecycle hook:</p>
            <figure>
              <img src="images/Fig03-105.png"/>
              <figcaption>Fig 03-105</figcaption>
            </figure>
            <p>And then down here in the selectNextPart and selectPreviousPart methods:</p>
            <figure>
              <img src="images/Fig03-106.png"/>
              <figcaption>Fig 03-106</figcaption>
            </figure>
            <p>we are emitting it again.</p>
            <p>We could simply this a little bit by using the updated lifecycle hook, and that is called whenever the
              data for the component is updated.</p>
            <p>So let's change this created hook to an updated hook:</p>
            <figure>
              <img src="images/Fig03-107.png"/>
              <figcaption>Fig 03-107</figcaption>
            </figure>
            <p>and then let's come down here and just delete these so that they're not emitted.</p>
            <figure>
              <img src="images/Fig03-108.png"/>
              <figcaption>Fig 03-108</figcaption>
            </figure>
            <p>These aren't going to be necessary because when we click the buttons, we end up changing the data, and
              because the data is changed, the updated lifecycle hook will get called and emit our selected part.</p>
            <p>So now if we come back here:</p>
            <figure>
              <img src="images/Fig03-109.png"/>
              <figcaption>Fig 03-109</figcaption>
            </figure>
            <p>you can see that our data is not being updated, but if I click this, then updated is being called:</p>
            <figure>
              <img src="images/Fig03-110.png"/>
              <figcaption>Fig 03-110</figcaption>
            </figure>
            <p>but this isn't quite what I want because we started out with it blank. And so we actually need both
              updated and created. We need those both to called emitSelectedPart:</p>
            <figure>
              <img src="images/Fig03-111.png"/>
              <figcaption>Fig 03-111</figcaption>
            </figure>
            <p>So now if I refresh, now as I change the parts, then you can see that the preview looks accurate:</p>
            <figure>
              <img src="images/Fig03-112.png"/>
              <figcaption>Fig 03-112</figcaption>
            </figure>
            <p>
              Cool. I just wanted to take that little detour to show you how lifecycle hooks work now that we had a
              better use case. And this is awesome. Now we've seen how to pass data to parent components with events,
              and we learned a little bit more about lifecycle hooks in the process.</p>
            <p>Next, let's learn how to inject HTML or Vue content into a component.
            </p>
          </div>
          <div><h3>Injecting Content into a Child Component with Slots</h3>
            <p>Sometimes you want to create a component that you can pass content into and have it be displayed in the
              appropriate place within that component. Imagine, for example, a component that is used as a collapsible
              drawer that expands and collapses as you click on a header, showing and hiding its content when clicked.
              In that case, you want a component to be reusable so that you can just wrap some part of your template in
              a collapsible component and it shows and hides that content.</p>
            <p>To experiment with this, we'll do just that; let's create a collapsible component that we can use to show
              and hide this preview image over here:</p>
            <figure>
              <img src="images/Fig03-113.png"/>
              <figcaption>Fig 03-113</figcaption>
            </figure>
            <p>And so over in our RobotBuilder, we want to be able to use it like this. So around this preview content,
              I want to have a CollapsibleSection component:</p>
            <figure>
              <img src="images/Fig03-114.png"/>
              <figcaption>Fig 03-114</figcaption>
            </figure>
            <p>And I'll wrap all of this content, the preview image but not the Add to Cart button, in that
              CollapsibleSection component:</p>
            <figure>
              <img src="images/Fig03-115.png"/>
              <figcaption>Fig 03-115</figcaption>
            </figure>
            <p>And then basically, this CollapsibleSection component will have a header that says expand and collapse,
              and when we click on it, it will show and hide this content. So let's go create this component.</p>
            <p>And I'm going to put that in a shared folder, since this is likely to be used by other components. And in
              there, I'll create a new file, CollapsibleSection.vue:</p>
            <figure>
              <img src="images/Fig03-116.png"/>
              <figcaption>Fig 03-116</figcaption>
            </figure>
            <p>And the template for this will be really simple, so I'll just type that in. So here's the template
              section of our component, and it's going to have an outer div, and then it's going to have an inner div
              that is the header, so we'll give it a header class:</p>
            <figure>
              <img src="images/Fig03-117.png"/>
              <figcaption>Fig 03-117</figcaption>
            </figure>
            <p>And then it's going to have a couple of spans in here, and those spans will say Collapse and Expand:</p>
            <figure>
              <img src="images/Fig03-118.png"/>
              <figcaption>Fig 03-118</figcaption>
            </figure>
            <p>
              And these are going to be shown or hidden based on whether the CollapsibleSection is currently open or
              not, so we will add a v-if, and we'll say if it's open, then show Collapse. And down here, if it is not
              open, then show Expand:</p>
            <figure>
              <img src="images/Fig03-119.png"/>
              <figcaption>Fig 03-119</figcaption>
            </figure>
            <p>And then on each of these spans we're going to bind to a click event, and we will just toggle open to not
              open, and we'll do that for both of these:</p>
            <figure>
              <img src="images/Fig03-120.png"/>
              <figcaption>Fig 03-120</figcaption>
            </figure>
            <p>And then I just want a down and up arrow here, so I'm going to add these Unicode characters:</p>
            <figure>
              <img src="images/Fig03-121.png"/>
              <figcaption>Fig 03-121</figcaption>
            </figure>
            <p>So that is an up arrow, and then a down arrow. Okay, so there's our header, and then basically we want to
              be able to add right here our togglable content here:</p>
            <figure>
              <img src="images/Fig03-122.png"/>
              <figcaption>Fig 03-122</figcaption>
            </figure>
            <p>So this is where we want our injected content to appear, so we'll come back to that in a second. First,
              let's add our script block. And we're going to export our component definition object, and this component
              will be named CollapsibleSection. And it will have a data object which has the open variable that we're
              toggling with our click handlers up above. So our data object will just return a new object with open set
              to true by default:</p>
            <figure>
              <img src="images/Fig03-123.png"/>
              <figcaption>Fig 03-123</figcaption>
            </figure>
            <p>Okay, and that's it for the component script, and then we just need a few styles here, and we'll have
              those be scoped as always. And we just need to style our header, and I wanted it have a background-color
              of gray and a little bit of padding. And we want it to have a pointer cursor:</p>
            <figure>
              <img src="images/Fig03-124.png"/>
              <figcaption>Fig 03-124</figcaption>
            </figure>
            <p>Okay, so now we have a component that has a header, and when we click on it, it toggles the open flag
              between true and false. Now we just need to know how to display injected content right here:</p>
            <figure>
              <img src="images/Fig03-125.png"/>
              <figcaption>Fig 03-125</figcaption>
            </figure>
            <p>where we want our toggleable content. For that, we use slots like this:</p>
            <figure>
              <img src="images/Fig03-126.png"/>
              <figcaption>Fig 03-126</figcaption>
            </figure>
            <p>So this slot element is a Vue-specific thing, and now that we've added it here, when we create a
              CollapsibleSection element like we have over in our RobotBuilder over here:</p>
            <figure>
              <img src="images/Fig03-127.png"/>
              <figcaption>Fig 03-127</figcaption>
            </figure>
            <p>this content that we put inside of our CollapsibleSection:</p>
            <figure>
              <img src="images/Fig03-128.png"/>
              <figcaption>Fig 03-128</figcaption>
            </figure>
            <p>will be shown right here where this slot element is:</p>
            <figure>
              <img src="images/Fig03-129.png"/>
              <figcaption>Fig 03-129</figcaption>
            </figure>
            <p>It's really that simple. Of course, since this is a collapsible section, we want to hide this slot when
              it's not open, so we'll put a v-if on here and only show it when open is true:</p>
            <figure>
              <img src="images/Fig03-130.png"/>
              <figcaption>Fig 03-130</figcaption>
            </figure>
            <p>Okay, so if we go back to our RobotBuilder component and we want to import this, and it looks like I
              must've missed something here. Yep, this CollapsibleSection needs to go down here actually:</p>
            <figure>
              <img src="images/Fig03-131.png"/>
              <figcaption>Fig 03-131</figcaption>
            </figure>
            <p>You may have already noticed that when I did it before. Okay, so if we come down here now and import our
              new CollapsibleSection component, so I'm going to import CollapsibleSection from..
              /shared/CollapsibleSection.vue:</p>
            <figure>
              <img src="images/Fig03-132.png"/>
              <figcaption>Fig 03-132</figcaption>
            </figure>
            <p>and then we can use this down here in our components:</p>
            <figure>
              <img src="images/Fig03-133.png"/>
              <figcaption>Fig 03-133</figcaption>
            </figure>
            <p>Now that is available to be used. And so now, this CollapsibleSection component should be working. Let's
              go take a look at that. There we go:</p>
            <figure>
              <img src="images/Fig03-134.png"/>
              <figcaption>Fig 03-134</figcaption>
            </figure>
            <p>Now you can see that we have a header here above our preview, and actually that's now working. I must've
              got my click handler wrong. Oh, yep, here I meant this to be equals not open:</p>
            <figure>
              <img src="images/Fig03-135.png"/>
              <figcaption>Fig 03-135</figcaption>
            </figure>
            <p>So basically, clicking on these spans will toggle the open variable. So now let's come back over here.
              And when I collapse this, there we go:</p>
            <figure>
              <img src="images/Fig03-136.png"/>
              <figcaption>Fig 03-136</figcaption>
            </figure>
            <p>so our collapsible content is working, and you can see how we injected content into our collapsible
              content using a slot. And then one last thing to be aware of, this may be a little less common, is the
              concept of default content for a slot.</p>
            <p>So in our CollapsibleSection, inside this slot element, I can provide any content that I want, so I could
              say here, div DefaultContent:</p>
            <figure>
              <img src="images/Fig03-137.png"/>
              <figcaption>Fig 03-137</figcaption>
            </figure>
            <p>And then this this will be displayed if no content is passed in. So let's add another CollapsibleSection
              here just above this one:</p>
            <figure>
              <img src="images/Fig03-138.png"/>
              <figcaption>Fig 03-138</figcaption>
            </figure>
            <p>and we won't provide any content for that. And now if we come over here, you can see that we have
              DefaultContent here instead of any data that was passed in:</p>
            <figure>
              <img src="images/Fig03-139.png"/>
              <figcaption>Fig 03-139</figcaption>
            </figure>
            <p>because we didn't pass in any content here. And as soon as I pass in something here, then that will show
              instead of the default content. And that's all there is to working with slots. I'm going to go ahead and
              delete the CollapsibleSection we just added. And that wraps up this module on inter-component
              communication.
            </p>
          </div>
          <div><h3>Summary</h3>
            <p>
              In this module, we've learned about using props to share data with child components, validating component
              props, passing data to parent components with events, and injecting content into a child component with
              slots. In the next module, we'll explore Vue.js routing and navigation.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
