<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <title>maxsagetech - Xamarin Forms: Build Native Cross-platform Apps with C#</title>
  <script src="https://unpkg.com/vue"></script>
  <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel="stylesheet">
  <link href="prism.css" rel="stylesheet">
  <script src="prism.js"></script>
  <style>
    img {
      max-width: 100%;
     
    }
  </style>
</head>
<body>
    <div class="container">
        <div class="panel-group">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h2>Getting Started</h2>
                </div>
                <div class="panel-body">
                    <h3>Introduction</h3>
                    <p>The getting started section gives a brief overview of the Xamarin forms architecture and then jumps
                        straight into building an app.</p>
                </div>
                <div class="panel-body">
                    <h3>What is Xamarin Forms?</h3>
                    <p>Xamarin forms is a library that enables you to build native apps for iOS, Android and Windows using
                        a single C# codebase.
                        If you have an experience with Windows Presentation Foundation or Silverlight then Xamarin will be
                        very
                        familiar to you.</p>
                    <p>Xamarin uses XAML to define the user interface of applications. For example we can define what
                        elements we have on a page, where they are located and what they look like.</p>
                    <p>Behind every XAML file we have a code-behind which is a class which implements the behaviour for that
                        page. For example what should happen when we click a button or select an item from a list.</p>
                    <p>In terms of architecture Xamarin forms is built on to of two existing libraries:</p>
                    <ul>
                        <li>Xamarin.Android</li>
                        <li>Xamarin.iOS</li>
                    </ul>
                    <figure>
                        <img src="./images/01/Fig01-001.png" class="image"/>
                        <figcaption>Fig01-001</figcaption>
                    </figure>
                    <p>When using Xamarin forms you work with a single unified API for creating user interfaces and
                        Xamarin Forms will internally map these user interface elements to their corresponding native
                        equivalent
                        making our apps completely native. This results in apps that look different across different
                        platforms.
                        If you use a button that button will look different depending on where you run your
                        application. </p>
                    <figure>
                        <img src="./images/01/Fig01-002.png" class="image"/>
                        <figcaption>Fig01-002</figcaption>
                    </figure>
                    <p>Also because Xamarin forms is built on top of Xamarin.Android and Xamarin.iOS you can write platform
                        specific code that uses the API exposed by any of these libraries. That means you are
                        <strong>not</strong>
                        limited to a common set of features that are available across all these platforms. </p>
                    <p>One of the first questions a lot of beginners ask is "Do I need to know about Xamarin.Android or
                        Xamarin.iOS in order to learn Xamarin Forms?". Not at all. The only exception is if you need to
                        write something specific for Android or for iOS. Otherwise for the most part you can learn Xamarin
                        forms on it's own.</p>
                    <p>The second most common question is "How do I know which Xamarin product to use. Should I use Xamarin
                        forms or one of the more specific libraries?". The answer is it depends. What makes Xamarin forms
                        powerful is it's ability to share most if not all your code across multiple platforms. However, if
                        you have a lot of use cases for working with platform specific api then it is better to use
                        Xamarin.Android or Xamarin.iOS</p>
                    <h4>Tooling</h4>
                    <p>In terms of tooling you have a number of options here. If you have a Windows machine you can build
                        and deploy apps to Android and Windows but not iOS - for that you need a Mac/ On the other side, if
                        you are a Mac user you can build apps for Android or iOS but not Windows. So if you want to target
                        all platforms you need both a Windows and a Mac machine.</p>
                </div>
                <div class="panel-body">
                    <h3>Setting Up the Development Environment</h3>
                    <h4>Windows Setup</h4>
                    <p>If your a Windows user you probably have Visual Studio. When you install Xamarin it will install all
                        the required SDK's as well as project templates in Visual Studio. To do this go to
                        <a target="_blank" href="xamarin.com/download">xamarin.com/download</a> fill out the form and make sure you
                      set the
                        following question to yes:</p>
                    <figure>
                        <img src="./images/01/Fig01-003.png"/>
                        <figcaption>Fig 01-003</figcaption>
                    </figure>
                    <p>This will mean you just get the Xamarin installer and not the Visual Studio installer. When you run
                        the Xamarin installer you will get a dialogue box that let's you select the features you want. Make
                        sure you select the following features under Cross Platform Mobile Development:</p>
                    <figure>
                        <img src="./images/01/Fig01-004.png"/>
                        <figcaption>Fig 01-004</figcaption>
                    </figure>
                    <p>Then under Common Tools and Software Development Kits select Android Native Development Kit:</p>
                    <figure>
                        <img src="./images/01/Fig01-005.png"/>
                        <figcaption>Fig 01-005</figcaption>
                    </figure>
                    <p>You also need to install the Android SDK and at least one of the Android SDK Setups:</p>
                    <figure>
                        <img src="./images/01/Fig01-006.png"/>
                        <figcaption>Fig 01-006</figcaption>
                    </figure>
                    <p>Finally you need to select Java SE Development Kit:</p>
                    <figure>
                        <img src="./images/01/Fig01-007.png"/>
                        <figcaption>Fig 01-007</figcaption>
                    </figure>
                    <h4>Mac Setup</h4>
                    <p>If you are a Mac user you have two options:</p>
                    <ul>
                        <li>Use Xamarin Studio</li>
                        <li>Use Visual Studio</li>
                    </ul>
                </div>
                <div class="panel-body">
                    <h3>Creating a Xamarin Forms App Using Visual Studio</h3>
                    <p>We will now use Visual Studio to create a Xamarin Forms app. First let's create a new project and
                        select the Cross-Platform template:</p>
                    <figure>
                        <img src="./images/01/Fig01-008.png"/>
                        <figcaption>Fig 01-008</figcaption>
                    </figure>
                    <p>For Xamarin Apps we have two options here:</p>
                    <ul>
                        <li>Portable Class Library</li>
                        <li>Shared Assets</li>
                    </ul>
                    <p>The preferred way and the best practice recommended by Xamarin is a Portable Class Library.</p>
                    <p>Specify a name for the application (e.g. HelloWorld) and click Ok. Next you will see a dialogue which
                        will let you specify the Target and Minimum Version for Windows Universal Apps. A Windows Universal
                        App
                        can run under Windows 10 or Windows 10 Mobile without the need to be rewritten for each. I will
                        accept the defaults here:</p>
                    <figure>
                        <img src="./images/01/Fig01-009.png"/>
                        <figcaption>Fig 01-009</figcaption>
                    </figure>
                    <p>Our solution should now be ready. As a best practice whenever you create a new Xamarin Forms App you
                        should right click the solution and select Manage NuGet Packages for Solution... Then goto the
                        updates
                        tab, select all packages and update them. We do this because Xamarin frequently releases new
                        libraries</p>
                    <p>In the resulting solution we should have 6 projects, the first one is our Portable Class Library:</p>
                    <figure>
                        <img src="./images/01/Fig01-010.png"/>
                        <figcaption>Fig 01-010</figcaption>
                    </figure>
                    <p>And this is where we are going to do most of the work. All the code that should be shared between
                        different platforms should be written here. If you look inside this project you will see one class
                        called App.cs which is the starting point of our application. Next we have five platform specific
                        projects.</p>
                    <ul>
                        <li>HelloWorld.Droid for Android</li>
                        <li>HelloWorld.iOs for iOS</li>
                        <li>HelloWorld.UWP for Universal Windows which can run on Windows 10 or Windows 10 Mobile</li>
                        <li>HelloWorld.Windows for Windows 8.1</li>
                        <li>HelloWorld.WinPhone for Windows Phone 8.1</li>
                    </ul>
                    <p>Any time we want to write platform specific code we will write it in these projects. If you don't
                        want to develop for a certain platform you can simply delete the project from your solution.</p>
                    <p>Now let's run the app by pressing Ctrl+F5. Now the first time you launch Android emulator you are
                        going to wait quite a few minutes for it to start.</p>
                    <p>After the emulator loads and starts your application will be launched:</p>
                    <figure>
                        <img src="./images/01/Fig01-011.png"/>
                        <figcaption>Fig 01-011</figcaption>
                    </figure>
                    <p>If you want to run the application in an iOS Simulator you need to right-click the project and select
                        <strong>Set as StartUp Project</strong>. Then on the toolbar and get select the Device I want to
                        deploy to. Either a physical device or one of the iPhone or iPad Simulators.</p>
                    <p>The Simulator will run on the Mac not on the PC. This is managed with the Xamarin Mac Agent which
                        should be visible on the toolbar:</p>
                    <figure>
                        <img src="./images/01/Fig01-012.png"/>
                        <figcaption>Fig 01-012</figcaption>
                    </figure>
                    <p>If you don't see this icon on the toolbar then go to the View Menu and under Toolbars select iOS.</p>
                    <p>The Xamarin Mac Agent let's you select the Mac on your network that is responsible for launching the
                        simulator. Please remember that Xamarin needs to be installed on both your Mac and Windows
                        Machine.</p>
                    <p>Now when you press Ctrl+F5 you will see the application running on an iPhone Simulator on your
                        Mac.</p>
                </div>
                <div class="panel-body">
                    <h3>Creating a Xamarin Forms App Using Xamarin Studio</h3>
                    <p>I wont document the process described in the video for Creating a Xamarin Forms App Using Xamarin
                        Studio because I think Xamarin Studio on the Mac has been deprecated in favour of Visual Studio for
                        Mac.
                    </p>
                </div>
                <div class="panel-body">
                    <h3>Your First Xamarin Forms App</h3>
                    <p>We are going to add a new page to our app with a button in the middle of the screen. In iOS buttons
                        don't have a border (they look like labels) so when you click the button you get an alert. Let's go
                        ahead an implement this.</p>
                    <p>As we discussed earlier, in Xamarin forms we use XAML (which is an XML based language) to define the
                        visual appearance of our app. We use code behind to implement how the user interface behaves:</p>
                    <figure>
                        <img src="./images/01/Fig01-013.png"/>
                        <figcaption>Fig 01-013</figcaption>
                    </figure>
                    <p>So, to start, right-click the Portable Class Library and select Add>New Item. On the left side select
                        Cross-Platform and on the right side select Forms Xaml Page. Call the page GreetPage.</p>
                    <p>This will add two new files to our project. One is GreetPage.xaml and if you expand it you will see
                        the GreetPage.xaml.cs code behind file which is just a simple C# class.</p>
                    <p>The root element here:</p>
                    <figure>
                        <img src="./images/01/Fig01-014.png"/>
                        <figcaption>Fig 01-014</figcaption>
                    </figure>
                    <p>ContentPage represents the type of our page. In Xamarin forms we have a few page types:</p>
                    <figure>
                        <img src="./images/01/Fig01-015.png"/>
                        <figcaption>Fig 01-015</figcaption>
                    </figure>
                    <p>We use content page to present some content to the user. Whether that be Text, Images or the
                        combination of the two.</p>
                    <p>The ContentPage element contains a couple of xml namespace declarations:</p>
                    <figure>
                <pre><code class="language-csharp">xmlns="http://xamarin.com/schemas/2014/forms"
                xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"</pre></code>
                        <figcaption>Fig 01-016</figcaption>
                    </figure>
                    <p>The first one is owned by Xamarin and this namespace is for elements that have no prefix. For
                        example,
                        the ContentPage element belongs to XamarinForms.</p>
                    <p>The other xml namespace identifies a prefix with the :x syntax. If you look at the Uri used to define
                        namespace you can see the namespace is owned by Microsoft which represents the standard XAML which
                        Microsoft defined in 2009. The :x means that any elements or attributes prefixed with an belong to
                        this namespace.</p>
                    <p>Look at the Class attribute:</p>
                    <figure>
                        <pre><code class="language-csharp">x:Class=</pre></code>
                        <figcaption>Fig 01-017</figcaption>
                    </figure>
                    <p>it is prefixed with an x and we call it x:Class and this attribute belongs to the Microsoft
                        namespace.
                    </p>
                    <p>Look at the value assigned to this attribute:</p>
                    <figure>
                        <pre><code class="language-csharp">x:Class="HelloWorld.GreetPage"</pre></code>
                        <figcaption>Fig 01-018</figcaption>
                    </figure>
                    <p>It is HelloWorld.GreetPage which is the fully qualified name of our code-behind class. This
                        establishes
                        the link between the XAML file and the code-behind file.</p>
                    <p>Remove the Content element in the XAML and add a Button:</p>
                    <figure>
                    <pre><code class="language-csharp">&lt;Button HorizontalOptions=&quot;Center&quot; VerticalOptions=&quot;Center&quot;
                        Text=&quot;Click Me&quot; Clicked=&quot;Handle_Clicked&quot;&gt;&lt;/Button&gt;</pre></code>
                        <figcaption>Fig 01-019</figcaption>
                    </figure>
                    <p>The autogenerated event handler for the Click event will look similar to this:</p>
                    <figure>
                        <pre><code class="language-csharp">void Handle_Clicked(object sender, System.EventArgs e)</pre></code>
                        <figcaption>Fig 01-020</figcaption>
                    </figure>
                    <p>As you can see the event handler is a private method which has two arguments. One is an object which
                        is the sender or source of the event. The other is EventArgs which brings in additional details
                        about
                        an event.</p>
                    <p>To display an alert we call the DisplayAlert() method. We inherit this method from the ContentPage
                        class which is the base class for our GreetPage(). The arguments we supply here are the Title of the
                        MessageBox, the message we want to display and the string to use for the cancel button:</p>
                    <figure>
                        <pre><code class="language-csharp">DisplayAlert("Title", "Hello World", "OK");</pre></code>
                        <figcaption>Fig 01-021</figcaption>
                    </figure>
                    <p>Now we want to make sure this page is displayed when our app is started. In the Portable Class
                        Library project we have a file named App.xaml. If you look at the code-behind for this file you
                        can see MainPage is currently set to a new instance of the the HelloWorldPage. MainPage is a
                        property that is defined in the base <strong>Application</strong> class and we use that to set the
                        starting page of our application. </p>
                    <p>Modify the App constructor to set the MainPage to GreetPage:</p>
                    <figure>
                        <pre><code class="language-csharp">MainPage = new GreetPage();</pre></code>
                        <figcaption>Fig 01-021</figcaption>
                    </figure>
                    <p>Run the application and click the button:</p>
                    <figure>
                        <img src="./images/01/Fig01-022.png"/>
                        <figcaption>Fig 01-022</figcaption>
                    </figure>
                    <p>This should give you an idea of what it is like to build cross platform apps using Xamarin Forms.</p>
                </div>
                <div class="panel-body">
                    <h3>How Xamarin Works</h3>
                    <p>So you have seen Xamarin forms in action and you know that with Xamarin forms you can build native
                        apps for different platforms. You might be curious how Xamarin actually achieves this. So let me
                        give you a bit of background.</p>
                    <p>All Xamarin products such as Xamarin.Android, Xamarin.iOS, Xamarin Forms are built on top of Mono:</p>
                    <figure>
                        <img src="./images/01/Fig01-023.png"/>
                        <figcaption>Fig 01-023</figcaption>
                    </figure>
                    <p>Mono is an open-source version of .Net which runs on various non Windows platforms like Linux, Unix
                        and OSX. Mono is a project that has been around for pretty much the same amount of time as .Net itself
                        but it wasn't very popular until recent years.</p>
                    <p>In the Mono world we had two releases:</p>
                    <ul>
                        <li>Mono for Android</li>
                        <li>MonoTouch</li>
                    </ul>
                    <p>Later these release were renamed to:</p>
                    <ul>
                        <li>Xamarin.Android</li>
                        <li>Xamarin.iOS</li>
                    </ul>
                    <p>Both these libraries give you access to the .NET Base Class Library so you have the same namespaces
                        that you are familiar with, you got the same classes with the same interfaces. They also give you access
                        to the Native API on their platform:</p>
                    <figure>
                        <img src="./images/01/Fig01-024.png"/>
                        <figcaption>Fig 01-024</figcaption>
                    </figure>
                    <p>So you have access to additional assemblies and namespaces that mimic the ones that come natively with
                        Android and iOS. These are the classes that Objective C or Java developers work with when they build
                        native apps for Android and iOS.</p>
                    <p>When working with Xamarin.Android or Xamarin.iOS we work with these classes just like standard
                        classes in .Net and these libraries will then internally call the corresponding API on the target
                        platform. </p>
                    <h4>Xamarin.Android</h4>
                    <p>When you build an application with Xamarin.Android the Xamarin C# compiler compiles down your C# code
                        to Intermediate Language or IL. It also emits the Mono Runtime with your application. This Mono runtime
                        is similar to the CLR (Common Language Runtime) which you should probably be familiar with. When you
                        launch an Android app this runtime is loaded into the memory and then it gets your IL code and compiles
                        it to the Native code for Android.</p>
                    <figure>
                        <img src="./images/01/Fig01-025.png"/>
                        <figcaption>Fig 01-025</figcaption>
                    </figure>
                    <p>This process is what we call Just In Time compilation or JIT. This is the same mechanism that is in
                        place when you build a regular .Net application in C#.</p>
                    <h4>Xamarin.iOS</h4>
                    <p>Apple does not allow Jitting so when you build your iOS application the Xamarin C# compiler first
                        compiles your C# code down to IL then it uses the Apple compiler to compile it down to Native code:</p>
                    <figure>
                        <img src="./images/01/Fig01-026.png"/>
                        <figcaption>Fig 01-026</figcaption>
                    </figure>
                    <p>This is why you need an Apple Machine. So the output is native code that iOS can understand and there
                        is no Jitting involved here. In other words when you ship your application there is no Mono runtime
                        embedded in your application.</p>
                    <h4>Xamarin Forms</h4>
                    <p>Xamarin Forms is built on top of Xamarin.Android and Xamarin.iOS so we have an assembly called
                        Xamarin.Forms.Core which contains classes that define a common unified API to work with different
                        platforms. For example we have a class called Button and this is the Button that we reference in
                        XAML or in code-behind. Now, we have another bunch of platform specific assemblies that map these common
                        objects in Xamarin Forms to their corresponding Native equivalent.</p>
                    <p>The assembly that defines the common API that we work with is called Xamarin.Forms.Core. This assembly
                        contains classes like Button, Label, ListView, Page and so on. </p>
                    <p>Now if you look at the References node in one of the platform specific projects like the Android one
                        you will see an assembly called Xamarin.Forms.Platform.Android. This is the assembly that is
                        responsible for mapping those common controls that we have in Xamarin.Forms.Core into the corresponding
                        Android equivalent.</p>
                    <p>In this assembly we have a bunch of what we call renderers. These are the classes that know how to
                        render, for example, a Label or a Button. We have the same architecture in other projects. In the iOS
                        project there is a Xamarin.Forms.Platform.iOS assembly that performs the same task as it's Android
                        equivalent.</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>